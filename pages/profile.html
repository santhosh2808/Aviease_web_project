<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile page</title>
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/profile.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/sharp-solid.css">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light   header">
        <div class="container h1 tw">
            <a class="navbar-brand " href="#"><span class="avil">Avi</span>ease</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item active m-3">
                        <a class="nav-link  h4" href="#">Home</a>
                    </li>
                    <li class="nav-item h4 m-3">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item h4 m-3">
                        <a class="nav-link" href="#deals">Deals</a>
                    </li>
                    <li class="nav-item h4 m-3">
                        <a class="nav-link" href="#">Profile</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="page-content page-container" id="page-content">
        <div class="padding">
            <div class="row container d-flex justify-content-center mx-auto">
    <div class="col-xl-6 col-md-12">
                                                    <div class="card user-card-full">
                                                        <div class="row m-l-0 m-r-0">
                                                            <div class="col-sm-4 bg-c-lite-green user-profile">
                                                                <div class="card-block text-center text-white">
                                                                    <div class="m-b-25">
                                                                        <img src="https://img.icons8.com/bubbles/100/000000/user.png" class="img-radius" alt="User-Profile-Image">
                                                                    </div>
                                                                    <h6 class="f-w-600">Hembo Tingor</h6>
                                                                    <p> </p>
                                                                    <i class=" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"></i>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-8">
                                                                <div class="card-block ">
                                                                    <h6 class="m-b-20 p-b-5 b-b-default f-w-600">Information</h6>
                                                                    <div class="row ">
                                                                        <div class="col-sm-6">
                                                                            <p class="m-b-10 f-w-600">Email</p>
                                                                            <h6 class="text-muted f-w-400">rntng@gmail.com</h6>
                                                                        </div>
                                                                        <div class="col-sm-6">
                                                                            <p class="m-b-10 f-w-600">Phone</p>
                                                                            <h6 class="text-muted f-w-400">98979989898</h6>
                                                                        </div>
                                                                    </div>

                                                                    <button class="btn btn-primary mt-3">edit</button>
                                                                
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                 </div>
                                                    </div>
                                                </div>
                                                <button id="updatebn">rtyu</button>

<script>
document.getElementById("updatebn").addEventListener("click",updateUser);

async function updateUser(){ 
    let id=document.getElementById("updateUserId").value;
let firstName=document.getElementById("firstNamein").value;
let lastName=document.getElementById("lastNamein").value;

		  const requestData = {
		    id: id,
            firstName:firstName,
            lastName:lastName
		  };

		  const url = "<%=request.getContextPath() %>/profile/update";
		  const options = {
		    method: "POST",
		    headers: {
		      "Content-Type": "application/json" 
		    },
		    body: JSON.stringify(requestData) 
		  };

		  // Send the POST request using the fetch API and return the promise
		  const response = await fetch(url, options).catch( (err)=> console.log(err));		    
		  // console.log(userDetails);
		  const message = ( await response.json() ).data;
		  
	  window.location.reload();
	}

</script>
    
</body>
</html>